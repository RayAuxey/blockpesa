(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0b2002"],{"21f3":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[s("div",{staticClass:"row justify-center items-center",staticStyle:{"min-height":"100vh"}},[s("div",{staticClass:"col-xs-12 col-sm-6"},[s("q-card-section",[s("div",{staticClass:"text-h6 text-center"},[t._v(t._s(t.login?"Login":"Sign Up"))])]),s("q-separator"),s("q-card-section",[s("div",[s("q-input",{staticClass:"q-mb-md",attrs:{outlined:"",label:"Username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t.login?t._e():s("q-input",{staticClass:"q-mb-md",attrs:{outlined:"",label:"PhoneNumber"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t.login?t._e():s("q-input",{staticClass:"q-mb-md",attrs:{outlined:"",label:"Email Address"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",label:"Password"},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("q-separator"),s("q-card-actions",{staticClass:"row q-mx-md justify-between"},[s("div",{staticClass:"text-subtitle1 cursor-pointer text-blue-10",on:{click:function(e){t.login=!t.login}}},[t._v(t._s(t.login?"Don't have an account?":"Already have an account?"))]),s("q-btn",{attrs:{color:"primary q-px-md ",label:t.login?"Login":"Sign Up"},on:{click:t.authenticate}})],1)],1)])])},n=[],i=s("967e"),o=s.n(i),r=(s("96cf"),{data:function(){return{login:!1,username:"",password:"",email:"",phone:"",isPwd:!0}},methods:{authenticate:function(){var t,e;return o.a.async((function(s){while(1)switch(s.prev=s.next){case 0:if(this.login){s.next=7;break}return s.next=3,o.a.awrap(this.$axios.post("https://horizonedge.tech/blockpesa/user/new",{name:this.username,password:this.password}));case 3:t=s.sent,t.data._id?(localStorage.setItem("id",t.data._id),this.$emit("loggedIn"),this.$router.push({name:"Accounts"})):this.$q.notify({message:"No such user"}),s.next=13;break;case 7:return console.log("Hey"),s.next=10,o.a.awrap(this.$axios.post("https://horizonedge.tech/blockpesa/user/login",{name:this.username,password:this.password}));case 10:e=s.sent,console.log(e.data),e.data._id?(localStorage.setItem("id",e.data._id),this.$emit("loggedIn"),this.$router.push({name:"Accounts"})):this.$q.notify({message:"No such user"});case 13:case"end":return s.stop()}}),null,this)}}}),c=r,l=s("2877"),u=s("fe09"),d=Object(l["a"])(c,a,n,!1,null,null,null);e["default"]=d.exports;d.options.components=Object.assign({QPage:u["p"],QCardSection:u["e"],QSeparator:u["s"],QInput:u["j"],QIcon:u["i"],QCardActions:u["d"],QBtn:u["b"]},d.options.components||{})}}]);